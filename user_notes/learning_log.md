# User Learning Log
> A living document of technical concepts, explained simply and in depth.

## [2026-01-03] Topic: The `.next` Directory

### Summary (For You)
Think of the `.next` folder as the **construction site** of your website.
*   It is **temporary**: You can delete it anytime, and the computer will just build it again.
*   It is **hidden**: We tell Git to ignore it (via `.gitignore`) so we don't upload thousands of temporary files to the internet.
*   It is **the real app**: When you run `npm run dev`, the computer isn't running your source code directly; it's running the "translated" version inside this folder.

### Expert Breakdown
The `.next` directory is the build output artifact generated by the Next.js compiler (Turbopack/Webpack). It contains the production-ready application structure:

*   **`server/`**: Contains the Server-Side Rendering (SSR) logic and API routes.
    *   `app/`: Compiled App Router page components.
    *   `middleware.js`: The compiled edge middleware.
*   **`static/`**: Client-side assets served via CDN.
    *   `chunks/`: Code-split JavaScript bundles (React components, libraries) optimized for lazy loading.
    *   `media/`: Optimized images and fonts.
*   **`cache/`**: Persistent build cache to speed up subsequent compilations (incremental builds).
*   **`types/`**: Auto-generated TypeScript definition files for API routes and page props.
*   **Manifests** (`build-manifest.json`, `routes-manifest.json`): JSON maps that tell the server how to route incoming URLs to specific file paths and which JavaScript chunks to hydrate on the client.

## [2026-01-03] Topic: The Project Root (`HatchIt/`)

### Summary (For You)
This is the **home base** for your entire application.
*   **The Container**: Everything related to your app lives here. If you delete this folder, the app is gone.
*   **The Command Center**: When you run commands like `npm run dev`, you must be standing in this folder.
*   **The Boundary**: Tools like VS Code and Git treat this folder as the "world." They generally don't look outside of it.

### Expert Breakdown
The root directory serves as the **Workspace Root** and **Repository Root**.
*   **Git Root**: Contains the `.git` hidden folder, tracking version history for all files inside.
*   **Dependency Scope**: Contains `package.json` and `package-lock.json`, defining the dependency tree (node_modules) for the project.
*   **Configuration Scope**: Holds global config files (`tsconfig.json`, `next.config.ts`, `.eslintrc`) that apply rules to all subdirectories.
*   **Environment Context**: This is where `.env` files are read to load environment variables into `process.env`.

## [2026-01-03] Topic: The `.vscode` Directory

### Summary (For You)
This is the **Settings Menu** for your code editor.
*   **Team Consistency**: It makes sure that if another developer opens this project, their editor behaves exactly like yours.
*   **Helpful Hints**: It can suggest which plugins (Extensions) you should install to make working on this project easier.
*   **Hidden Helper**: You rarely need to touch this. It just sits there making your life easier in the background.

### Expert Breakdown
This directory contains workspace-specific configuration for Visual Studio Code.
*   **`settings.json`**: Overrides global VS Code user settings for this specific workspace (e.g., formatting rules, file exclusions).
*   **`extensions.json`**: A list of recommended extensions for the project. VS Code prompts users to install these upon opening the folder.
*   **`launch.json`**: Debugging configurations. It tells VS Code how to attach a debugger to your running Next.js application.
## [2026-01-03] Topic: The `memory/` Directory (formerly `ai_context`)

### Summary (For You)
This is the **Project's Brain**.
*   **The Long-Term Memory**: It stores everything I need to know so I don't ask you the same questions twice.
*   **The Rulebook**: It contains your preferences, the brand voice, and the "Do Not Touch" list.
*   **The History**: It keeps a log of what we've built so we don't get lost.

### Expert Breakdown
This directory serves as an **External Context Store** (RAG-lite) for the AI agent.
*   **Context Anchoring**: Files like `FOUNDER_MEMORY.md` and `TECHNICAL_CODEX.md` provide high-level constraints that don't fit in the prompt window.
*   **State Management**: `CHANGELOG.md` and `UX_MAP.md` track the evolution of the codebase state manually.
*   **Token Optimization**: Instead of reading the entire codebase, the agent can read these summaries to "re-hydrate" its understanding of the project.

## [2026-01-03] Topic: The `app/` Directory

### Summary (For You)
This is the **House** itself.
*   **The Rooms**: Each folder inside here usually represents a page on your website (e.g., `app/about` is `your-site.com/about`).
*   **The Walls**: Files like `layout.tsx` define the common structure (navigation bar, footer) that wraps around every room.
*   **The Furniture**: The actual content users see lives in `page.tsx` files.

### Expert Breakdown
This is the **Next.js App Router** directory, the core of the application's routing architecture.
*   **File-System Routing**: Folders define routes. `app/dashboard/page.tsx` becomes `/dashboard`.
*   **Server Components**: By default, everything here is a React Server Component (RSC), meaning it renders on the server for better performance and SEO.
*   **Special Files**:
    *   `page.tsx`: The unique UI for a route.
    *   `layout.tsx`: Shared UI for a segment and its children (preserves state on navigation).
    *   `loading.tsx`: Instant loading UI (React Suspense).
    *   `error.tsx`: Error handling UI boundary.
    *   `route.ts`: API endpoints (backend logic).

## [2026-01-03] Topic: The `components/` Directory

### Summary (For You)
This is the **LEGO Box**.
*   **Reusable Parts**: Instead of building a button 50 times, we build it once here and use it everywhere.
*   **The Visuals**: If you see it on the screen (buttons, modals, navigation bars), the code for it is likely here.
*   **Dumb vs. Smart**: Some components just look pretty (dumb), others talk to the database (smart).

### Expert Breakdown
This directory contains **React Components** that are used within the `app/` pages.
*   **Atomic Design**: Currently a flat structure, but contains atoms (Buttons), molecules (SearchBars), and organisms (SectionBuilder).
*   **Client Components**: Many files here likely have `"use client"` at the top, allowing them to use hooks like `useState` and `useEffect` for interactivity.
*   **Key Systems**:
    *   `HatchCharacter.tsx`: The visual avatar for the AI.
    *   `SingularityEngine.tsx`: The core logic visualization.
    *   `TheWitness.tsx`: The observation system.

## [2026-01-03] Topic: The `lib/` Directory

### Summary (For You)
This is the **Toolbox**.
*   **The Helpers**: Functions that do the heavy lifting behind the scenes (like "calculate price" or "format date").
*   **The Connectors**: Code that talks to outside services (like Supabase or Stripe).
*   **The Brain Stem**: Deep logic that doesn't have a visual face.

### Expert Breakdown
This directory contains **Utility Functions** and **Business Logic** decoupled from the UI.
*   **`supabase.ts`**: The database client configuration.
*   **`consciousness.ts`**: The logic driving the AI's "personality" and state.
*   **`architect-lang.ts`**: The parser for the custom domain-specific language used in the builder.
*   **`db/`**: Database schemas or migration helpers.

## [2026-01-03] Topic: The `public/` Directory

### Summary (For You)
This is the **Public Storage**.
*   **Open to the World**: Anything you put here can be accessed by anyone with a browser link (e.g., `your-site.com/logo.png`).
*   **Static Assets**: Images, fonts, icons, and downloadable files.
*   **No Code**: The computer doesn't process these files; it just hands them over as-is.

### Expert Breakdown
This directory serves **Static Assets** directly from the root URL.
*   **Performance**: Files here are not bundled by Webpack. They are served as-is.
*   **Referencing**: Accessed in code via `/filename.ext` (no import required).
*   **Robots.txt**: (Often placed here or generated dynamically) Controls search engine indexing.

## [2026-01-03] Topic: The Utilities (`hooks/`, `types/`, `contexts/`)

### Summary (For You)
These are the **Wiring and Labels**.
*   **`hooks/`**: Superpowers for your components (e.g., "detect if user is scrolling").
*   **`types/`**: The Dictionary. It defines what a "User" or a "Project" actually *is* so the computer doesn't get confused.
*   **`contexts/`**: The Broadcast System. It lets you share data (like "is the user logged in?") across the whole app without passing notes by hand.

### Expert Breakdown
*   **`hooks/`**: Custom React Hooks (e.g., `useProjects.ts`) for encapsulating stateful logic.
*   **`types/`**: TypeScript interfaces and type definitions (e.g., `User`, `ProjectState`) to ensure type safety across the app.
*   **`contexts/`**: React Context Providers (e.g., `SubscriptionContext.tsx`) for global state management (avoiding prop-drilling).

## [2026-01-03] Topic: `middleware.ts`

### Summary (For You)
This is the **Bouncer**.
*   **The Gatekeeper**: Every single request to your website goes through this file first.
*   **Security**: It checks "Are you allowed to be here?" before letting you in.
*   **Traffic Control**: It can redirect you (e.g., "You're not logged in? Go to the sign-in page").

### Expert Breakdown
This file runs on the **Edge Runtime** (Vercel Edge Middleware).
*   **Interception**: It intercepts requests *before* they reach the cache or the server components.
*   **Authentication**: Integrates with Clerk (`clerkMiddleware`) to protect routes.
*   **Performance**: Must be lightweight and fast as it adds latency to every request.
